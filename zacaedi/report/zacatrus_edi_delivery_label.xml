<?xml version="1.0" encoding="UTF-8"?>
<odoo>

<template id="etiqueta_edi">
  <t t-call="web.html_container">
  <t t-call="web.external_layout">
    <t t-foreach="docs" t-as="o">
        <t t-set="o" t-value="o.with_context({'lang':o.partner_id.lang})"/>
        <div class="page" style="border: 4px solid black;">
            <div style="border-bottom: 1px solid black;padding:12px;">
              <div><span t-esc="res_company.name"/></div>
              <div><span t-esc="res_company.street"/>, <span t-esc="res_company.city"/> - <span t-esc="res_company.zip"/></div>
            </div>
            
            <t t-set="warehouse" t-if="o.partner_id.name" t-value="o.partner_id.name.split('-')"/>
            <t t-set="dest" t-if="o.partner_id.name" t-value="o.partner_id.name.split('-')"/>
            
            
            <div style="border-bottom: 1px solid black;float:left;width:100%;">
              <div style="float:left; padding:12px; border-right: 1px solid black; width: 15%; min-height:100px;">LUGAR DE ENTREGA</div>
              <div style="float:left; padding:12px; border-right: 1px solid black; width: 60%; min-height:100px;text-align: center;">
                <div><span t-if="o.partner_id.parent_id" t-esc="o.partner_id.parent_id.name"/></div>
                <div><span t-if="warehouse and len(warehouse) > 1" t-esc="warehouse[1]"/></div>
                <div><span t-esc="o.partner_id.street"/>, <span t-esc="o.partner_id.city"/> <span t-esc="o.partner_id.zip"/></div>
              </div>
              <div style="float:left; padding:12px;text-align: center;">
                <div>NÚMERO DE BULTOS</div>
                <div style="font-size: 40px;"><strong>1 / 1</strong></div>
              </div>
            </div>
            
            
            <div style="border-bottom: 1px solid black;float:left;width:100%;">
              <div style="float:left; padding:12px; border-right: 1px solid black; width: 15%;  min-height:100px;">DESTINO MERCANCÍA</div>
              <div style="float:left; padding:12px; width: 28%;  min-height:100px;">
                <div><span t-if="o.partner_id.parent_id" t-esc="o.partner_id.parent_id.name"/></div>
                <div><span t-if="dest and len(dest) > 1" t-esc="dest[1]"/></div>
                <div><span t-esc="o.sale_id.partner_id.street"/></div>
              </div>
              <div style="float:left; padding:12px; font-size: 40px;">
                  <strong><span t-if="dest" t-esc="dest[0]"/></strong>
              </div>
              <div style="float:left; padding:12px; font-size: 40px;">
                  <img alt="Barcode" t-att-src="'/report/barcode/?barcode_type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', quote_plus('o.sale_id.client_order_ref' or ''), 300, 50)" style="width:300px;height:50px;margin:12px;"/>
              </div>
            </div>


            <div style="border-bottom: 1px solid black;float:left;width:100%;">
              <div style="float:left; padding:12px; border-right: 1px solid black; width: 15%;  min-height:100px;">DATOS ASOCIADOS A LA EMPRESA</div>
              <div style="float:left; padding:12px;  min-height:100px;">
                <div>DPTO-P.VENTA: 831 - 00</div>
                <div>PEDIDO: <span t-esc="o.sale_id.client_order_ref"/></div>
                <div>ALBARÁN: <span t-esc="o.sale_id.origin"/></div>
              </div>
            </div>
            

            <div>
                <img alt="Barcode" t-att-src="'/report/barcode/?barcode_type=%s&amp;value=%s&amp;width=%s&amp;height=%s' % ('Code128', quote_plus(o.sale_id.client_order_ref or ''), 300, 50)" style="width:300px;height:50px;margin:12px;"/>
                (<span t-esc="o.sale_id.client_order_ref"/>)
            </div>
        </div>
       </t>
  </t>
  </t>
</template>
</odoo>